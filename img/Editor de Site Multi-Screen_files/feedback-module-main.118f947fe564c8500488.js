(window.webpackJsonpeditor=window.webpackJsonpeditor||[]).push([[28],{"0F7s":function(e,t,a){(t=e.exports=a("I1BE")(!1)).push([e.i,'.StarsRating-main-3aw input[type="radio"] + label span:first-child {\n  position: initial; }\n\n.StarsRating-main-3aw input[type="radio"] + label {\n  padding: 0; }\n\n.StarsRating-main-3aw input[type="radio"] + label span {\n  padding-right: 7px; }\n\n.StarsRating-main-3aw input[type="radio"] + label span:first-child:after {\n  content: none; }\n\n.StarsRating-main-3aw input[type="radio"]:checked + label span:before {\n  content: none; }\n',""]),t.locals={main:"StarsRating-main-3aw"}},"2rJk":function(e,t,a){var n=a("sEG9");(t=e.exports=a("I1BE")(!1)).push([e.i,".FeedbackThankYou-main-2aw {\n  height: 100%;\n  background-color: #fff; }\n\n.FeedbackThankYou-header-3aw {\n  margin-bottom: 48px;\n  height: 132px; }\n\n.FeedbackThankYou-headerInner-2aw {\n  height: 181px;\n  background-image: url("+n(a("qyH1"))+");\n  background-size: 370px;\n  background-repeat: no-repeat;\n  background-position: 50% 50%; }\n\n.FeedbackThankYou-buttonGroup-saw {\n  margin-top: 40px; }\n\n.FeedbackThankYou-title-uaw {\n  font-weight: 400;\n  padding-top: 30px; }\n",""]),t.locals={main:"FeedbackThankYou-main-2aw",header:"FeedbackThankYou-header-3aw",headerInner:"FeedbackThankYou-headerInner-2aw",buttonGroup:"FeedbackThankYou-buttonGroup-saw",title:"FeedbackThankYou-title-uaw"}},"3Gpk":function(e,t,a){var n,s=a("2rJk");"string"==typeof s&&(s=[[e.i,s,""]]),n=a("/I6Q");var r={transform:"modules/common/cssVariablesPolyfill"};r.transform=n;a("ZuTH")(s,r);s.locals&&(e.exports=s.locals)},"CRg+":function(e,t,a){var n,s=a("0F7s");"string"==typeof s&&(s=[[e.i,s,""]]),n=a("/I6Q");var r={transform:"modules/common/cssVariablesPolyfill"};r.transform=n;a("ZuTH")(s,r);s.locals&&(e.exports=s.locals)},DZFJ:function(e,t,a){var n=a("sEG9");(t=e.exports=a("I1BE")(!1)).push([e.i,".FeedbackFreeText-main-Faw {\n  background-image: url("+n(a("atSQ"))+");\n  background-repeat: no-repeat;\n  background-position: bottom right;\n  height: 100%;\n  background-color: #fff; }\n  .FeedbackFreeText-main-Faw .feedbackTextarea {\n    width: 430px;\n    height: 70px;\n    margin-left: 10px;\n    text-align: left; }\n\n.FeedbackFreeText-positiveGroup-1aw {\n  margin-top: 30px;\n  padding-top: 0; }\n\n.FeedbackFreeText-negativeGroup-1aw {\n  margin-bottom: 20px; }\n\n.FeedbackFreeText-buttonGroup-2aw {\n  margin-top: 1px; }\n\n.FeedbackFreeText-title-9aw {\n  font-weight: 400;\n  padding-top: 30px; }\n",""]),t.locals={main:"FeedbackFreeText-main-Faw",positiveGroup:"FeedbackFreeText-positiveGroup-1aw",negativeGroup:"FeedbackFreeText-negativeGroup-1aw",buttonGroup:"FeedbackFreeText-buttonGroup-2aw",title:"FeedbackFreeText-title-9aw"}},Dt7N:function(e,t,a){var n,s=a("oq14");"string"==typeof s&&(s=[[e.i,s,""]]),n=a("/I6Q");var r={transform:"modules/common/cssVariablesPolyfill"};r.transform=n;a("ZuTH")(s,r);s.locals&&(e.exports=s.locals)},FYXz:function(e,t,a){(t=e.exports=a("I1BE")(!1)).push([e.i,".FeedbackWrapper-main-9aw {\n  height: 379px; }\n\n.FeedbackWrapper-noClose-3aw {\n  z-index: 1; }\n\n.feedbackPopup .freestylePopupBody {\n  border-radius: 2px;\n  overflow: hidden; }\n",""]),t.locals={main:"FeedbackWrapper-main-9aw",noClose:"FeedbackWrapper-noClose-3aw"}},LH9Q:function(e,t,a){e.exports=a.p+"a69ed988c7ca2ca91793f14b608c0415.png"},O7UM:function(e,t,a){"use strict";a.r(t);var n,s,r,i=a("yXPU"),o=a.n(i),l=a("k4gB"),c=a("2i9H"),p=a("V5/y"),d=a.n(p),u=a("Dt7N"),h=a.n(u),m=a("tZPy"),b=a.n(m),k=a("g8Lk"),f=a("nQG1"),g=a("CRg+"),x=a.n(g),S=a("qj80"),F=a.n(S),y=a("ZiIQ"),E=a("E/IR"),T=a("xMpb");const{string:v,func:w,number:O}=l.b;var N,C,P,I=Object(l.h)({styles:x.a})((r=s=class extends l.a{constructor(...e){super(...e),this.renderStar=(e,t)=>e>t?l.d.createElement(y.a,{size:this.props.starSize,className:x.a.starEmptyIcon,name:"star-unfilled",iconType:y.a.Type.SVG}):l.d.createElement(y.a,{size:this.props.starSize,className:x.a.starFilledIcon,name:"star-filled",color:this.props.starColor,iconType:y.a.Type.SVG}),this.handleStarsChange=e=>{this.props.onChange(e)},this.handleStarHover=e=>{e>this.props.value&&this.setState({starsHover:e})},this.handleStarHoverOut=()=>{this.setState({starsHover:null})},this.state={}}render(){return l.d.createElement("div",{styleName:"main",className:this.props.className},l.d.createElement(F.a,{name:"feedback",starCount:5,value:this.state.starsHover||this.props.value,onStarClick:this.handleStarsChange,renderStarIcon:this.renderStar,onStarHover:Object(T.b)()||Object(T.a)()?null:this.handleStarHover,onStarHoverOut:Object(T.b)()||Object(T.a)()?null:this.handleStarHoverOut}))}},s.displayName="StarsRating",s.propTypes={className:v,value:O,onChange:w,starColor:v,starSize:O},s.defaultProps={starColor:E.a.getColors().BUTTON_COLOR,starSize:32},n=r))||n,j=a("w2jt"),G=a("xies"),H=a.n(G);const{string:L,func:R,bool:Y}=l.b;var z,B,U,A=Object(l.h)({styles:h.a})((P=C=class extends l.a{constructor(...e){super(...e),this.state={stars:0},this.handleStarsChange=e=>{this.setState({stars:e})},this.handleClick=()=>{this.props.onSubmit(this.state.stars)},this.handleAskMeLater=()=>{this.props.onClose()}}render(){return l.d.createElement("div",{styleName:Object(l.j)("main",{oneline:this.props.oneline}),className:this.props.className},l.d.createElement("div",{styleName:"header"},l.d.createElement("div",{styleName:"headerInner"})),l.d.createElement(j.a,{column:!0,align:"center"},l.d.createElement(b.a,{title:!0,size:"22px",noPaddingTop:!0,html:this.props.title,styleName:"title"}),l.d.createElement(H.a,{styleName:"starsGroup"},l.d.createElement(I,{onChange:this.handleStarsChange,value:this.state.stars})),l.d.createElement(H.a,{styleName:"buttonGroup"},l.d.createElement(k.a,{primary:!0,disabled:!this.state.stars,onClick:this.handleClick,text:Object(l.o)("common.submit"),minWidth:"68px"}),l.d.createElement(H.a,{padded:!0,center:!0},l.d.createElement(f.a,{styleName:"askLaterLink",text:Object(l.o)("common.cancel"),onClick:this.handleAskMeLater,noFlex:!0,inline:!1})))))}},C.displayName="FeedbackStars",C.propTypes={className:L,title:L,onClose:R,onSubmit:R,oneline:Y},C.defaultProps={title:Object(l.o)("What do you think about the editor?")},N=P))||N,W=a("djYW"),D=a.n(W),_=a("ALhs"),Q=a.n(_);const{string:V,func:Z}=l.b;var q,J,M,X=Object(l.h)({styles:D.a})((U=B=class extends l.a{constructor(...e){super(...e),this.handleClick=()=>{this.props.onSubmit(this.state.positive,this.state.negative)},this.handlePositive=e=>{this.setState({positive:e})},this.handleNegative=e=>{this.setState({negative:e})},this.state={}}render(){return l.d.createElement("div",{styleName:"main",className:this.props.className},l.d.createElement(j.a,{column:!0,align:"center"},l.d.createElement(b.a,{title:!0,size:"22px",html:this.props.title,styleName:"title"}),l.d.createElement(H.a,{padded:!0,styleName:"positiveGroup",paddingTop:"0"},l.d.createElement(j.a,null,l.d.createElement(y.a,{size:18,name:"like",color:E.a.getColors().ORANGE,iconType:y.a.Type.SVG}),l.d.createElement(Q.a,{autofocus:!0,placeholder:Object(l.o)("feedback.freeText.positive.placeholder"),textarea:!0,inputClassName:"feedbackTextarea",onChange:this.handlePositive,stopAtLength:300}))),l.d.createElement(H.a,{padded:!0,styleName:"negativeGroup"},l.d.createElement(j.a,null,l.d.createElement(y.a,{size:18,name:"dislike",color:E.a.getColors().ORANGE,iconType:y.a.Type.SVG}),l.d.createElement(Q.a,{placeholder:Object(l.o)("feedback.freeText.negative.placeholder"),textarea:!0,inputClassName:"feedbackTextarea",onChange:this.handleNegative,stopAtLength:300}))),l.d.createElement(H.a,{styleName:"buttonGroup"},l.d.createElement(k.a,{primary:!0,onClick:this.handleClick,text:Object(l.o)("common.submit"),minWidth:"68px"}))))}},B.displayName="FeedbackFreeText",B.propTypes={className:V,title:V,onClose:Z,onSubmit:Z},B.defaultProps={title:Object(l.o)("feedback.freeText.title")},z=U))||z,K=a("3Gpk"),$=a.n(K);const{string:ee,func:te}=l.b;var ae,ne,se,re=Object(l.h)({styles:$.a})((M=J=class extends l.a{constructor(...e){super(...e),this.handleClick=()=>{this.props.onClose()},this.state={}}render(){return l.d.createElement("div",{styleName:"main",className:this.props.className},l.d.createElement("div",{styleName:"header"},l.d.createElement("div",{styleName:"headerInner"})),l.d.createElement(j.a,{column:!0,align:"center"},l.d.createElement(b.a,{title:!0,size:"22px",html:this.props.title,styleName:"title"}),l.d.createElement(H.a,{styleName:"buttonGroup"},l.d.createElement(k.a,{primary:!0,onClick:this.handleClick,text:Object(l.o)("common.close"),minWidth:"68px"}))))}},J.displayName="FeedbackThankYou",J.propTypes={className:ee,title:ee,onClose:te},J.defaultProps={title:Object(l.o)("feedback.thankyou.title")},q=M))||q;const{string:ie}=l.b;var oe=Object(l.h)({styles:d.a})((se=ne=class extends l.a{constructor(...e){super(...e),this.getComponentToRender=()=>{switch(this.state.step){case 1:default:return l.d.createElement(A,{oneline:this.props.origin===be.PUBLISH,title:this.getStarsTitle(),onSubmit:this.submitStars,onClose:this.submitEmpty});case 2:return l.d.createElement(X,{onSubmit:this.submitFreeText});case 3:return l.d.createElement(re,{onClose:this.close})}},this.getStarsTitle=()=>this.props.origin===be.EDITOR_OPEN?Object(l.o)("feedback.stars.title.login"):this.props.origin===be.PUBLISH?Object(l.o)("feedback.stars.title.publish"):null,this.submitEmpty=()=>{Object(ce.c)({url:"/feedback/storeEmpty"}),le.mixpanel("feedback-canceled"),this.close()},this.submitStars=e=>{this.setState({rating:e}),this.moveToFreeText()},this.submitFreeText=(e,t)=>{this.setState({positive:e,negative:t},()=>{this.submitFeedback()}),this.moveToThankYou()},this.submitFeedback=()=>{if(!this.state.feedbackSent){if(this.setState({feedbackSent:!0}),!this.state.rating)return;!function(e){const t={url:"/feedback/store",data:Object.assign({siteAlias:Object(pe.c)()},e)};Object(ce.c)(t),le.mixpanel("feedback-submit",Object.assign({accountOwner:Object(pe.a)()},e)),le.intercom("feedback-submit",e)}({rating:this.state.rating,positive:this.state.positive,negative:this.state.negative})}},this.moveToFreeText=()=>{this.setState({step:2})},this.moveToThankYou=()=>{this.setState({step:3})},this.close=()=>{Object(c.closePopup)()},this.state={step:1}}render(){return l.d.createElement("div",{styleName:Object(l.j)("main",{noClose:1===this.state.step}),className:this.props.className},this.getComponentToRender())}componentWillUnmount(){this.submitFeedback()}},ne.displayName="FeedbackWrapper",ne.propTypes={className:ie,origin:ie},ae=se))||ae,le=a("FfLZ"),ce=a("9Mi+"),pe=a("ezYY"),de=a("DaUp"),ue=a.n(de),he=a("LyWx"),me=a("tKd4");const be=ue()({EDITOR_OPEN:"EDITOR_OPEN",PUBLISH:"PUBLISH"});function ke(){me.a.off(he.H.CLOSE_PUBLISH_POPUP).on(he.H.CLOSE_PUBLISH_POPUP,e=>{e&&e.wasPublished&&e.isPublished&&xe()}),me.a.off(he.H.OPEN_EDITOR).on(he.H.OPEN_EDITOR,()=>{Fe()})}function fe(e){Object(c.isPopupOpened)()||Object(c.openPopup)(c.PopupTypes.FREESTYLE,{content:l.d.createElement(oe,{origin:e}),width:"620px",closeIconClassName:"feedbackCloseButton",popupClass:"feedbackPopup"})}function ge(){Object(c.closePopup)()}function xe(){return Se.apply(this,arguments)}function Se(){return(Se=o()(function*(){(yield Ee(be.PUBLISH))&&setTimeout(()=>{fe(be.PUBLISH)},3e3)})).apply(this,arguments)}function Fe(){return ye.apply(this,arguments)}function ye(){return(ye=o()(function*(){const e=yield Ee(be.EDITOR_OPEN);return e&&fe(be.EDITOR_OPEN),e})).apply(this,arguments)}function Ee(e){const t={url:`/feedback/shouldShowFeedbackPopup?origin=${e}`};return Object(ce.b)(t).then(e=>{try{return!!e&&JSON.parse(e.value)}catch(e){return!1}})}a.d(t,"init",function(){return ke}),a.d(t,"openFeedback",function(){return fe}),a.d(t,"closeFeedback",function(){return ge}),a.d(t,"handleFeedbackAfterEditorOpen",function(){return Fe}),a.d(t,"handleFeedbackAfterPublish",function(){return xe})},"V5/y":function(e,t,a){var n,s=a("FYXz");"string"==typeof s&&(s=[[e.i,s,""]]),n=a("/I6Q");var r={transform:"modules/common/cssVariablesPolyfill"};r.transform=n;a("ZuTH")(s,r);s.locals&&(e.exports=s.locals)},atSQ:function(e,t,a){e.exports=a.p+"e92c4241ce8438f38d2b0667d0b9c1ce.png"},djYW:function(e,t,a){var n,s=a("DZFJ");"string"==typeof s&&(s=[[e.i,s,""]]),n=a("/I6Q");var r={transform:"modules/common/cssVariablesPolyfill"};r.transform=n;a("ZuTH")(s,r);s.locals&&(e.exports=s.locals)},oq14:function(e,t,a){var n=a("sEG9");(t=e.exports=a("I1BE")(!1)).push([e.i,".FeedbackStars-main-qaw {\n  height: 100%;\n  background-color: #fff;\n  position: relative; }\n\n.FeedbackStars-header-2aw {\n  margin-bottom: 48px;\n  height: 132px; }\n\n.FeedbackStars-headerInner-Aaw {\n  height: 181px;\n  background-image: url("+n(a("LH9Q"))+");\n  background-size: 260px;\n  background-repeat: no-repeat;\n  background-position: 50% 50%; }\n\n.FeedbackStars-starsGroup-1aw {\n  margin-top: 15px; }\n\n.FeedbackStars-askLaterLink-1aw {\n  align-self: center;\n  text-decoration: none;\n  color: #b0b9be;\n  font-family: Roboto;\n  font-size: 13px;\n  font-weight: 400;\n  text-align: center; }\n\n.FeedbackStars-buttonGroup-7aw {\n  margin-top: 20px; }\n\n.FeedbackStars-title-saw {\n  font-weight: 400; }\n\n.FeedbackStars-oneline-1aw .FeedbackStars-headerInner-Aaw {\n  background-size: 300px; }\n\n.FeedbackStars-oneline-1aw .FeedbackStars-title-saw {\n  margin-top: 10px; }\n\n.FeedbackStars-oneline-1aw .FeedbackStars-header-2aw {\n  padding-top: 15px; }\n",""]),t.locals={main:"FeedbackStars-main-qaw",header:"FeedbackStars-header-2aw",headerInner:"FeedbackStars-headerInner-Aaw",starsGroup:"FeedbackStars-starsGroup-1aw",askLaterLink:"FeedbackStars-askLaterLink-1aw",buttonGroup:"FeedbackStars-buttonGroup-7aw",title:"FeedbackStars-title-saw",oneline:"FeedbackStars-oneline-1aw"}},qyH1:function(e,t,a){e.exports=a.p+"117211df9e208efe4dd74626fa8abb05.gif"}}]);
(window.webpackJsonpruntime=window.webpackJsonpruntime||[]).push([[11],{DI7c:function(t,e,a){"use strict";a.r(e);var i=a("526F"),n=a.n(i),o=a("OBge"),r=a.n(o),l=a("eLKs"),s=a.n(l),c=a("IeeE"),u=a.n(c),g=a("a0dU"),h=a.n(g),d=a("SPx3"),m=a.n(d),y=a("0lTi"),p=a.n(y),v=a("FLGM"),f=a.n(v),w=a("RKTd"),I=a.n(w),C=a("o+MX"),S=a.n(C),k=a("5PDf"),b=a.n(k),L=a("UtpJ"),x=a.n(L),A=a("RXMP"),T=a.n(A),P=a("/FZm"),E=a.n(P),R=a("06Pm"),M=a.n(R),O=a("kA7L"),B=a.n(O),D=a("DzJC"),N=a.n(D),H=a("guyh"),U=a.n(H),G=a("TEMH"),z=a.n(G),V=a("M5Mt"),q=a.n(V),J=function t(e){var a,i=this;M()(this,t),this.images=void 0,this.gallery=void 0,this.wrapImage=function(t){var e=E()(t).call(t,">");return e.is(".thumbnailInnerWrapper")||e.wrapAll('<div class="thumbnailInnerWrapper" style="opacity:0"/>'),t},this.add=function(t,e){var a,n=e?0:i.images.length;return q()(a=i.images).call(a,n,0,i.wrapImage(t)),i.images},this.get=function(){return i.images},this.getAsJQuery=function(){var t,e=i.get();return f()(t=$(e)).call(t,function(){return this.toArray()})},this.clear=function(){i.images=[]},this.swap=function(t,e){var a,n,o=i.images[e];return q()(a=i.images).call(a,e,1),q()(n=i.images).call(n,t,0,o),i.images},this.remove=function(t){var e;return i.images=b()(e=i.images).call(e,function(e){return e.attr("id")!==t}),i.images},this.getImageAt=function(t){return t<i.images.length?i.images[t]:null},this.getNextImage=function(t){var e,a=t.attr("id"),n=z()(e=p()(i.images)).call(e,function(t){return t.attr("id")===a});return n<0||n===i.images.length-1?null:i.images[n+1]},this.gallery=e;var n=p()(E()(a=this.gallery).call(a,"li.photoGalleryThumbs"));n.length&&n[0].hasAttribute("data-index")&&(n=U()(n).call(n,function(t,e){return(t.dataset.index||-1)>(e.dataset.index||-1)?1:-1})),this.images=f()(n).call(n,function(t){return i.wrapImage($(t))})};J.displayName="ImagesStack";var F=a("NO3N"),Q=a("foIZ"),_=F.e.SQUARE,W=F.e.VERTICAL,Y=F.e.PINTEREST,K=F.e.PANORAMIC,X=F.e.ASYMETRIC,j=F.e.ASYMETRIC2,Z=F.e.ASYMETRIC3,tt=F.e.CLASSIC_ROUNDED,et=F.e.CLASSIC_DROPS,at=F.e.PINTEREST_ROUNDED,it=F.e.VERTICAL_ROUNDED,nt=function t(e,a){var i,n,o,r,l=this;(M()(this,t),this.device=void 0,this.layout=void 0,this.gallery=void 0,this.textLayout=void 0,this.imagesStack=void 0,this.layoutContainer=void 0,this.viewAll=void 0,this.galleryHolder=void 0,this.updateCaptionAlignment=function(){return"captionAlignment-"+l.gallery.attr("data-".concat(l.device,"-caption-alignment"))||!1},this.updateTextLayout=function(){var t=l.gallery.attr("data-".concat(l.device,"-text-layout"));return t||l.gallery.hasClass("upgradedGallery")&&(t=l.gallery.attr("data-text-layout")),t||F.f.BOTTOM},this.getNumberOfRow=function(t,e){var a=l.layout.numberOfImagesPerColumn,i=Math.floor(e/a);return 1===t?i:Math.floor(i/t)},this.setLayout=function(t){t&&(l.gallery.attr("data-"+l.device+"-layout",t),l.layout=t)},this.get=function(){return l.layout},this.getTextLayout=function(){return l.textLayout},this.generateRow=function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $(S()(e="<div class='photogallery-row ".concat(a,"' data-index='")).call(e,t,"'/>"))},this.generateColumn=function(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return $(S()(e="<div class='photogallery-column ".concat(a,"' data-index='")).call(e,t,"'/>"))},this.generateImage=function(t,e,a){return t.removeClass().addClass("photoGalleryThumbs "+(a||"")),t.attr("data-index",e),t},this.appendColumnsToRow=function(t,e){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=0;i<e;i++){var n;t.append(l.generateColumn(i,S()(n="".concat(a," column-")).call(n,e)))}},this.getMaxHeight=function(t){var e=0;return t.each(function(t,a){var i=$(a).height();i>e&&(e=i)}),e},this.generateLayoutContainer=function(){return $('<div class="layout-container '+l.layout+'" />')},this.clearCaptionInlineHeight=function(t){var e=l.getRows(t);E()(e).call(e,".photogallery-column .caption-container").css("height","")},this.getRows=function(t){var e;return t?t.closest(".photogallery-row"):E()(e=l.gallery).call(e,".photogallery-row")},this.equalCaptionsHeight=function(t){var e=l.getRows(t);if(l.textLayout===F.f.OVER)E()(e).call(e,".photogallery-column .caption-container").css("height","100%");else if(l.textLayout===F.f.FIXED)E()(e).call(e,".photogallery-column .caption-container").css("height","auto");else switch(l.layout){case Y:case at:e.each(function(t,e){var a,i,n=E()(a=$(e)).call(a,".photogallery-column >:first-child .caption-container");n.css("height",""),n.height(l.getMaxHeight(n));var o=E()(i=$(e)).call(i,".photogallery-column >:last-child .caption-container");o.height(l.getMaxHeight(o))});break;case j:case Z:e.each(function(t,e){var a,i,n=E()(a=$(e)).call(a,".caption-container");n.css("height","");var o=0;n.each(function(t,e){var a=$(e).height();a>o&&(o=a)}),n.height(o),E()(i=$(e)).call(i,".asymetric-big-image .caption-container").height(2*o)});break;default:e.each(function(t,e){var a,i=E()(a=$(e)).call(a,".photogallery-column .caption-container");i.css("height",""),i.height(l.getMaxHeight(i))})}},this.isEven=function(t){return t%2==0},this.findColumnByIndex=function(t,e){return E()(t).call(t,'.photogallery-column[data-index="'+e+'"]')},this.drawSquare=function(){for(var t,e=l.imagesStack.get(),a=l.getNumberOfColumns(),i=0;i<e.length;i++){var n=l.generateImage(e[i],i);i%a==0&&(t=l.generateRow(Math.floor(i/a)),l.layoutContainer.append(t),l.appendColumnsToRow(t,a));var o=i%a;l.findColumnByIndex(t,o).append(n)}},this.calculateImageHeight=function(t){var e=E()(t).call(t,"img"),a=e.attr("data-src"),i=t.attr("data-ratio");if(i)l.updateImageHeightByRatio(i,t);else{var n=e.attr("irh"),o=e.attr("irw");if(n&&o)i=n/o,l.updateImageHeightByRatio(i,t);else{var r=new Image;r.onload=function(){var e=r.naturalHeight,a=r.naturalWidth;i=e/a,l.updateImageHeightByRatio(i,t)},r.src=a}}},this.updateImageHeightByRatio=function(t,e){var a=E()(e).call(e,"a");a.css("padding","inherit"),a.css("height",t*e.width())},this.drawPinterest=function(){for(var t,e,a,i=l.imagesStack.get(),n=1*l.getNumberOfColumns(),o=0,r=0===l.isEven(n),s=1===n?n:2*n,c=0;c<i.length;c++){c%s==0&&(e=Math.floor(c/n),t=l.generateRow(e),l.layoutContainer.append(t),l.appendColumnsToRow(t,n)),o=c%n,a=l.findColumnByIndex(t,o);var u=void 0;u=l.isEven(c)&&l.isEven(o)&&0===a.children().length||(!l.isEven(c)||!r)&&!l.isEven(o)&&1===a.children().length?l.generateImage(i[c],c,"pinterest-low"):l.generateImage(i[c],c,"pinterest-high"),a.append(u)}},this.drawPanoramic=function(){for(var t,e=l.imagesStack.get(),a=0;a<e.length;a++){var i=l.generateImage(e[a],a,"panoramic-height");t=l.generateRow(Math.floor(a)),l.layoutContainer.append(t),t.append(l.generateColumn(0,"column-1")),E()(t).call(t,".photogallery-column").append(i)}},this.drawVertical=function(){for(var t,e=l.imagesStack.get(),a=l.getNumberOfColumns(),i=0;i<e.length;i++){var n=l.generateImage(e[i],i,"vertical-height");i%a==0&&(t=l.generateRow(Math.floor(i/a)),l.layoutContainer.append(t),l.appendColumnsToRow(t,a));var o=i%a;l.findColumnByIndex(t,o).append(n)}},this.calculateAsymetricsColumns=function(){var t,e,a=1*l.getNumberOfColumns();if(1!==a&&(l.layout===j||l.layout===Z)){var i,n=l.layout===Z?2:1.5,o=100/a,r=Math.ceil(a/2),s=40/Math.floor(a/2),c=60/r,u=E()(t=l.gallery).call(t,".photogallery-column"),g=E()(e=u.eq(0)).call(e,"li").css("padding")||"0px";u.each(function(t,e){var a,r=$(e),u=E()(r).call(r,".image-container a");r.hasClass("row-direction")?(r.css("width",c+"%"),i=o/c*100+"%",u.css("padding-top",i),l.layout===Z&&E()(r).call(r,".asymetric3-long-image .image-container a").css("padding-top",o/c*50+"%")):(r.css("width",s+"%"),i=S()(a="calc(".concat(o/s*100,"% + ")).call(a,g.replace("px","")*n,"px)"),u.css("padding-top",i))})}},this.drawAsymetric2=function(){for(var t,e=l.imagesStack.get(),a=l.getNumberOfColumns(),i=0,n=l.generateRow(i),o=0,r=0,s=l.isEven(i),c=0;c<e.length;c++){if(0===r){o===1*a&&(i++,n=l.generateRow(i),s=l.isEven(i),o=0),r=(s=!s)?1:4;var u=(s?"":"row-direction ")+"column-"+a;t=l.generateColumn(o,u),n.append(t),l.layoutContainer.append(n),o++}var g=s?"asymetric-big-image":"flex column width-50",h=l.generateImage(e[c],c,g);t.append(h),r--}},this.drawAsymetric3=function(){for(var t,e=l.imagesStack.get(),a=l.getNumberOfColumns(),i=0,n=l.generateRow(i),o=0,r=0,s=!l.isEven(i),c=0;c<e.length;c++){if(0===r){o===1*a&&(i++,n=l.generateRow(i),s=!l.isEven(i),o=0),r=(s=!s)?1:3;var u=(s?"":"row-direction ")+"column-"+a;t=l.generateColumn(o,u),n.append(t),l.layoutContainer.append(n),o++}var g=void 0;g=s?"asymetric-big-image":1===r?"flex column asymetric3-long-image":"flex column width-50";var h=l.generateImage(e[c],c,g);t.append(h),r--}},this.getNumberOfColumns=function(){var t=l.gallery.attr("data-"+l.device+"-columns");if(l.device===F.b.MOBILE&&(l.layout===j||l.layout===Z))return"1";if(!t){if(l.device===F.b.DESKTOP)return"4";if(l.device===F.b.TABLET)return l.gallery.attr("data-desktop-columns")||"4";var e=1*(l.gallery.attr("data-desktop-columns")||4);return Math.min(2,e).toString()}return t},this.draw=function(){var t;l.layoutContainer&&l.layoutContainer.remove(),l.layoutContainer=l.generateLayoutContainer();var e=l.imagesStack.getAsJQuery();switch(e.css("background-image",""),E()(e).call(e,"a").attr("style",""),l.layout){case _:case tt:case et:case X:l.drawSquare();break;case Y:case at:l.drawPinterest();break;case K:l.drawPanoramic();break;case W:case it:l.drawVertical();break;case j:l.drawAsymetric2();break;case Z:l.drawAsymetric3()}l.viewAll.length?l.layoutContainer.insertBefore(l.viewAll):l.layoutContainer.insertAfter(l.galleryHolder),l.calculateAsymetricsColumns(),l.gallery.removeClass("text-layout-"+l.textLayout),l.gallery.removeClass(l.captionAlignment),l.textLayout=l.updateTextLayout(),l.captionAlignment=l.updateCaptionAlignment(),l.gallery.addClass("text-layout-"+l.textLayout),l.gallery.addClass(l.captionAlignment),E()(t=l.layoutContainer).call(t,".photogallery-row").addClass("photogallery-hidden-row")},this.isCaptionElementVisible=function(t,e){var a=E()(t).call(t,".caption-inner"),i=E()(t).call(t,".caption-container");return a.length>0&&("none"!==a.css("display")&&"none"!==i.css("display")&&"none"!==E()(t).call(t,e).css("display"))},this.gallery=e,this.device=Q.b.getCurrentLayoutDevice(),this.layout=this.gallery.attr("data-"+this.device+"-layout")||this.gallery.attr("data-desktop-layout")||_,this.textLayout=this.updateTextLayout(),this.captionAlignment=this.updateCaptionAlignment(),this.imagesStack=a,this.viewAll=E()(i=this.gallery).call(i,".photoGalleryViewAll"),this.galleryHolder=E()(n=this.gallery).call(n,".dmPhotoGalleryHolder"),E()(o=this.gallery).call(o,".layout-container").length)&&E()(r=this.gallery).call(r,".layout-container").remove()};nt.displayName="LayoutProvider";var ot=a("cU+2"),rt=Q.b.inEditorMode,lt=Q.b.inPreviewMode,st=Q.b.inRuntimeMode,ct=500,ut=function(){function t(e){var a,i,n=this;M()(this,t),this.layoutProvider=void 0,this.device=void 0,this.imagesStack=void 0,this.gallery=void 0,this.galleryType=void 0,this.galleryId=void 0,this.rowsToShow=void 0,this.rows=void 0,this.imagesToUnveil=void 0,this.viewImagesButton=void 0,this.animationDelay=0,this.enableLazyLoading=void 0,this.unveilThreshold=void 0,this.initLayout=function(t,e){var a;n.unveilThreshold=n.animation?0:ct,n.cleanAnchors(),n.layoutProvider.setLayout(t),n.layoutProvider.draw(),n.rows=E()(a=n.gallery).call(a,".photogallery-row"),n.manageRowsVisibility(),n.initUnveilImages({skipAnimation:e}),n.addEvents(e),n.initLinks()},this.getLazyLoading=function(){var t=n.gallery.attr("data-enable-lazy-loading");return!t||"true"===t},this.initLinks=function(){var t;T()(t=n.imagesStack.get()).call(t,function(t){var e,a=E()(e=$(t)).call(e,".image-container a"),i=E()(a).call(a,"img"),n=a.attr("href")||"",o=i.attr("data-src")||"";n&&o===n&&n.length&&a.attr("href","")})},this.manageRowsVisibility=function(){var t,e;"100"===n.rowsToShow?t=n.rows:"all"===(n.viewImagesButton.attr("data-mode")||"all")?(t=x()(e=n.rows).call(e,0,n.rowsToShow),n.viewImagesButton.text(n.viewImagesButton.attr("data-viewall"))):(t=n.rows,n.viewImagesButton.text(n.viewImagesButton.attr("data-viewless")));n.rows.length>n.rowsToShow?n.viewImagesButton.show():n.viewImagesButton.hide(),t.removeClass("photogallery-hidden-row")},this.onUnveil=function(t){var e;if(!n.enableLazyLoading)return n.imagesToUnveil=[],void n.revealElements(n.imagesStack.getAsJQuery(),t);if(ot.a.isElementInViewport(n.gallery[0],n.unveilThreshold)){var a=b()(e=n.imagesToUnveil).call(e,function(t,e){return ot.a.isElementInViewport(e,n.unveilThreshold)});a.length&&(n.imagesToUnveil=n.imagesToUnveil.not(a),n.revealElements(a,t))}},this.initUnveilImages=function(){var t,e,a,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=Q.b.getSiteLayout(n.device),r=8===o||7===o?$("#iscrollBody"):$(window);n.imagesToUnveil=n.imagesStack.getAsJQuery();var l=S()(t=S()(e=S()(a="touchmove.unveil-".concat(n.galleryId," \n        scroll.unveil-")).call(a,n.galleryId," \n        resize.unveil-")).call(e,n.galleryId," \n        lookup.unveil-")).call(t,n.galleryId," ");return r.off(l).on(l,N()(function(){return n.onUnveil(i.skipAnimation)},500)),n.onUnveil(i.skipAnimation),n},this.getImagePhotoswipeObject=function(t){var e;if(!t.length)return null;var a,i=E()(t).call(t,"img"),o=E()(t).call(t,".caption-title"),r=i.attr("data-src"),l="";n.layoutProvider.isCaptionElementVisible(t,".caption-text")&&b()(a=E()(t).call(t,".caption-text").contents()).call(a,function(t){return 3!==t.nodeType}).each(function(t,e){var a;l+=I()(a=e.textContent).call(a)+" "});var s=new Image;return s.src=r,{w:s.width,h:s.height,src:r,el:t,author:o.length?I()(e=o.text()).call(e):"",title:l||""}},this.getImagesAsPhotoswipeItems=function(t){return f()(t).call(t,function(t){return n.getImagePhotoswipeObject($(t))})},this.initPhotoSwipeFromDOM=function(t){n.imagesStack.getAsJQuery().off("click.photoSwipe").on("click.photoSwipe",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();var e=t.target||t.srcElement,a=$(e).closest("li"),i=a.attr("data-index");n.openPhotoSwipe(i,a)})},this.openPhotoSwipe=function(t,e){var a=document.querySelectorAll(".pswp")[0],i={galleryUID:n.galleryId,index:1*t,shareEl:!n.gallery.attr("data-hide-share")},o=n.getImagesAsPhotoswipeItems(n.imagesStack.get());n.photoSwipeGallery=new window.PhotoSwipe(a,window.PhotoSwipeUI_Default,o,i),n.photoSwipeGallery.listen("gettingData",function(t,e){if(e.w<1||e.h<1){var a=new Image,i=n.photoSwipeGallery;a.onload=function(){e.w=this.width,e.h=this.height,e.needsUpdate=!0,i.updateSize(!0)},a.src=e.src}}),n.photoSwipeGallery.init()},this.revealElements=function(t,e){var a,i,o=100;T()(a=b()(i=p()(t)).call(i,function(t){return t.querySelector("[data-src]")})).call(a,function(){var t=m()(h.a.mark(function t(e){var a,i,r;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=$(e),n.animation&&(e.style.setProperty("animation-delay","".concat(o,"ms")),o+=100),i=e.querySelector("[data-src]").getAttribute("data-src")){t.next=5;break}return t.abrupt("return");case 5:return r=e.querySelector(".image-container"),r.querySelector("a").style.setProperty("background-image","url('".concat(n.getSourceByDevice(i,a),"')")),t.next=10,Q.a.loadImage($(r),{background:!0});case 10:if(r.classList.add("revealed"),n.layoutProvider.get()!==F.e.ASYMETRIC){t.next=16;break}if(!n.oldLayoutFix({thumb:a})){t.next=16;break}return t.next=16,n.waitForTransition(r);case 16:r.closest(".thumbnailInnerWrapper").style.setProperty("opacity","1");case 18:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),n.layoutProvider.getTextLayout()===F.f.BOTTOM?n.layoutProvider.equalCaptionsHeight(t):n.layoutProvider.clearCaptionInlineHeight(t),e||(t.removeClass("animated "+n.animation),t.addClass("animated "+n.animation))},this.getSourceByDevice=function(t,e){if(rt()&&!lt())return t;var a=n.getElementDimensions(e),i=a.width,o=a.height;return i>=o?i<=160&&o<=90?n.replaceSourcePath(t,"thumbnail"):i<=640?n.replaceSourcePath(t,"mobile"):i<=1280?n.replaceSourcePath(t,"tablet"):t:i<=160&&o<=90?n.replaceSourcePath(t,"thumbnail"):"mobile"===n.device?n.replaceSourcePath(t,"mobile"):i<=1280?n.replaceSourcePath(t,"tablet"):t},this.updateLazyLoading=function(t){n.enableLazyLoading=t},this.changeTextLayout=function(t){n.gallery.attr("data-desktop-text-layout",t),n.initLayout()},this.changeNumberOfColumns=function(t){n.gallery.attr("data-desktop-columns",n.numberOfColumns),n.initLayout()},this.onViewImagesClicked=function(t){t.preventDefault(),t.stopPropagation();var e=n.viewImagesButton.attr("data-mode")||"all";n.viewImagesButton.attr("data-mode","all"===e?"less":"all"),n.initLayout()},this.cleanAnchors=function(){var t;E()(t=n.imagesStack.getAsJQuery()).call(t,".image-container a").css("background-image","")},this.addEvents=function(t){var e,a=E()(e=n.gallery).call(e,".caption-button");if(n.viewImagesButton.off("click.viewallbutton").on("click.viewallbutton",n.onViewImagesClicked),lt()||st()){var i;if(E()(i=n.gallery).call(i,".image-container > a").off("click.photogallery").on("click.photogallery",function(t){this.getAttribute("href")&&this.getAttribute("href")!==this.getAttribute("data-image-url")||t.preventDefault()}),lt()?Q.d.bindLinks(a):a.on("click",function(t){t.stopPropagation()}),"photoSwipe"===n.galleryType){if(rt()&&!lt())return void n.imagesStack.getAsJQuery().off("click.photoSwipe");n.initPhotoSwipeFromDOM()}else n.imagesStack.getAsJQuery().off("click.photoSwipe");Q.d.initRuntimeLinks()}if(rt())var o=u()(function(){window.parent.$&&window.parent.$.dmx&&(window.parent.$.dmx.events.on("siteHeightChange",function(){n.onUnveil(t)}),window.parent.$.dmx.events.on("previewMobileOrientationRotated.photogallery-"+n.galleryId,function(){n.initLayout()},!0,{scope:"page"}),window.parent.$.dmx.events.off("onePreviewToggle.photogallery-"+n.galleryId).on("onePreviewToggle.photogallery-"+n.galleryId,function(t){n.photoSwipeGallery&&n.photoSwipeGallery.close(),t&&t.preview?n.initLayout():n.imagesStack.getAsJQuery().off("click.photoSwipe")}),clearInterval(o))},300)},this.changeRowsToShow=function(t){n.gallery.attr("data-rows-to-show",t),n.rowsToShow=t,n.initLayout()},this.getNumberOfColumns=function(){return n.layoutProvider.getNumberOfColumns()},this.getRowsToShow=function(){return n.gallery.attr("data-rows-to-show")||"4"},this.equalCaptionsHeight=function(t){n.layoutProvider.equalCaptionsHeight(t)},this.setLinkGallery=function(t){var e,a;t?(n.galleryType="link",T()(e=n.imagesStack.get()).call(e,function(t){var e,a=E()(e=$(t)).call(e,".image-container a"),i=a.attr("data-link-url")||"";a.attr("href",i)})):(T()(a=n.imagesStack.get()).call(a,function(t){var e,a=E()(e=$(t)).call(e,".image-container a"),i=a.attr("href");a.attr("data-link-url",i)}),n.galleryType="photoSwipe");n.initLayout()},this.initAnimation=function(t,e){var a;E()(a=n.gallery).call(a,"li.photoGalleryThumbs").removeClass("animated "+e).addClass("animated "+t).css("animation-name",""),n.gallery.attr("data-image-animation",t),n.animation=t,n.initLayout()},this.getNextImage=function(t){return n.imagesStack.getNextImage(t)},this.getId=function(){return n.gallery[0].id},this.swapImages=function(t,e){n.imagesStack.swap(t,e),n.initLayout()},this.getImages=function(){return n.imagesStack.get()},this.addImage=function(t,e){n.imagesStack.add($(t),e),n.initLayout()},this.removeImage=function(t){n.imagesStack.remove(t)},this.getElementDimensions=s()(a=this.getElementDimensions).call(a,this),this.gallery=e,this.galleryId=this.gallery.attr("id"),this.galleryType=this.gallery.attr("data-link-gallery")&&"true"===this.gallery.attr("data-link-gallery")?"link":"photoSwipe",this.rowsToShow=this.gallery.attr("data-rows-to-show"),this.enableLazyLoading=this.getLazyLoading(),this.viewImagesButton=E()(i=this.gallery).call(i,".photoGalleryViewAll"),this.device=Q.b.getCurrentLayoutDevice(),this.imagesStack=new J(this.gallery),this.imagesToUnveil=[],this.animation=this.gallery.attr("data-image-animation")||"none",this.layoutProvider=new nt(this.gallery,this.imagesStack),this.initLayout()}return B()(t,[{key:"oldLayoutFix",value:function(t){var e=t.thumb;this.layoutProvider.calculateImageHeight(e);var a=this.gallery.attr("data-image-hover-effect");return this.animation&&a&&"false"!==a&&"none"!==a}},{key:"waitForTransition",value:function(t){return new r.a(function(e){$(t).one("transitionend",e)})}},{key:"getElementDimensions",value:function(t){var e=t.length?t[0]:t;try{var a=e.getBoundingClientRect();return{width:a.width,height:a.height}}catch(t){return{width:0,height:0}}}},{key:"replaceSourcePath",value:function(t,e){return t.replace(/\/multi\/(?:desktop\/|tablet\/|thumbnail\/|mobile\/)?/gi,"/multi/".concat(e,"/"))}},{key:"animation",get:function(){return this._animation},set:function(t){this._animation!==t&&(this._animation="none"!==t?t:null)}}]),t}();ut.displayName="PhotoGallery",a.d(e,"init",function(){return ht}),a.d(e,"insert",function(){return dt}),a.d(e,"clean",function(){return mt}),a.d(e,"getCurrentGallery",function(){return yt}),a.d(e,"initGallery",function(){return pt});var gt=[];function ht(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=$(".dmPhotoGallery"),a=e.length;gt=[],$.dmrt.components.photogallery={load:function(){},default:{ready:function(){},load:function(){}}},$.dmrt.components.photogallery.oldComponent=n()({},$.dmrt.photogallery.oldComponent);for(var i=0;i<a;i++)dt(e.eq(i),t)}function dt(t){var e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.hasClass("newPhotoGallery")?(t.data("initialized")&&!a.force?e=t.data("initialized"):(a.disableLazyLoading&&t.attr("data-enable-lazy-loading","false"),a.disableAnimation&&t.removeAttr("data-image-animation"),e=new ut(t),t.data("initialized",e)),gt.push(e)):$.dmrt.components.photogallery.oldComponent.default.ready()}function mt(){}function yt(t){for(var e=0;e<gt.length;e++)if(gt[e].getId()===t)return gt[e];return null}function pt(t){gt||(gt=[]);var e=new ut(t);t.data("initialized",e),gt.push(e)}}}]);